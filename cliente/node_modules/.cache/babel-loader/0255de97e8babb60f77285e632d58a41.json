{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\GraphQLServer\\\\cliente\\\\src\\\\componentes\\\\Clientes.js\";\nimport React, { Fragment, Component } from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport { CLIENTES_QUERY } from '../queries';\nimport { ELIMINAR_CLIENTE } from '../mutations';\nimport { Link } from 'react-router-dom';\nimport Paginador, { paginador } from './Paginador';\n\nclass Clientes extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      paginador: {\n        offset: 0,\n        actual: 1\n      },\n      limite: 2\n    };\n\n    this.paginaAnterior = () => {\n      this.setState({ ...this.state,\n        paginador: {\n          offset: this.state.paginador.offset - this.state.limite,\n          actual: this.state.paginador.actual - 1\n        }\n      });\n    };\n\n    this.paginaSiguiente = () => {\n      this.setState({\n        paginador: {\n          offset: this.state.paginador.offset + this.state.limite,\n          actual: this.state.paginador.actual + 1\n        }\n      });\n    };\n\n    this.cambioLimite = i => () => {\n      /*this.setState({\r\n          paginador: {\r\n          offset: 0,\r\n          actual: 1,\r\n          limite: i\r\n          }*/\n      //})\n      console.log(i);\n    };\n  }\n\n  render() {\n    return React.createElement(Query, {\n      query: CLIENTES_QUERY,\n      pollInterval: 1000,\n      variables: {\n        limite: this.state.limite,\n        offset: this.state.paginador.offset\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, ({\n      loading,\n      error,\n      data,\n      startPolling,\n      stopPolling\n    }) => {\n      if (loading) return \"Cargando...\";\n      if (error) return `Error: ${error.message}`;\n      console.log(data);\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Listado Clientes\"), React.createElement(\"div\", {\n        className: \" d-flex justify-content-end mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        className: \"\",\n        onChange: this.cambioLimite,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"5\"), React.createElement(\"option\", {\n        value: \"10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"10\"), React.createElement(\"option\", {\n        value: \"15\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"15\"), React.createElement(\"option\", {\n        value: \"20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"20\")), React.createElement(Paginador, {\n        actual: this.state.paginador.actual,\n        totalClientes: data.totalClientes,\n        limite: this.limite,\n        paginaAnterior: this.paginaAnterior,\n        paginaSiguiente: this.paginaSiguiente,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })), React.createElement(\"ul\", {\n        className: \"list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, data.getClientes.map(item => {\n        const {\n          id\n        } = item;\n        return React.createElement(\"li\", {\n          key: item.id,\n          className: \"list-group-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row justify-content-betwen align-items-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-8 d-flex justify-content-betwen align-items-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, item.nombre, \" \", item.apellido), React.createElement(\"div\", {\n          className: \"col-md-4 d-flex justify-content-end\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(Mutation, {\n          mutation: ELIMINAR_CLIENTE,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, eliminarCliente => React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-danger d-block d-md-inline-block mr-2\",\n          onClick: () => {\n            if (window.confirm('Seguro que deseas eliminar el cliente?')) {\n              eliminarCliente({\n                variables: {\n                  id\n                }\n              });\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, \"\\xD7 Eliminar\")), React.createElement(Link, {\n          to: `/cliente/editar/${item.id}`,\n          className: \"btn btn-success d-block d-md-inline-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, \"Editar Clientes\"))));\n      })), React.createElement(Paginador, {\n        actual: this.state.paginador.actual,\n        totalClientes: data.totalClientes,\n        limite: this.state.limite,\n        paginaAnterior: this.paginaAnterior,\n        paginaSiguiente: this.paginaSiguiente,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }));\n    });\n  }\n\n}\n\nexport default Clientes;","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/GraphQLServer/cliente/src/componentes/Clientes.js"],"names":["React","Fragment","Component","Query","Mutation","CLIENTES_QUERY","ELIMINAR_CLIENTE","Link","Paginador","paginador","Clientes","state","offset","actual","limite","paginaAnterior","setState","paginaSiguiente","cambioLimite","i","console","log","render","loading","error","data","startPolling","stopPolling","message","totalClientes","getClientes","map","item","id","nombre","apellido","eliminarCliente","window","confirm","variables"],"mappings":"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","sourcesContent":["import React, {Fragment, Component} from 'react';\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport { CLIENTES_QUERY } from '../queries';\r\nimport { ELIMINAR_CLIENTE } from '../mutations';\r\nimport {Link} from 'react-router-dom';\r\nimport Paginador, {paginador} from './Paginador';\r\nclass Clientes extends Component{\r\n        //limite = 1;    \r\n    state = {\r\n            paginador: {\r\n                offset: 0,\r\n                actual: 1,\r\n                \r\n            },\r\n            limite: 2\r\n        }\r\n        paginaAnterior = () =>{\r\n            this.setState({\r\n                ...this.state,\r\n                paginador: {\r\n                offset: this.state.paginador.offset - this.state.limite,\r\n                actual: this.state.paginador.actual - 1,\r\n                }\r\n            })\r\n        }\r\n\r\n        paginaSiguiente = () => {\r\n            this.setState({\r\n                paginador: {\r\n                offset: this.state.paginador.offset + this.state.limite,\r\n                actual: this.state.paginador.actual + 1\r\n                }\r\n            })\r\n        }\r\n        cambioLimite = i => () => {\r\n            /*this.setState({\r\n                paginador: {\r\n                offset: 0,\r\n                actual: 1,\r\n                limite: i\r\n                }*/\r\n            //})\r\n            console.log(i);\r\n        }\r\n        render(){\r\n            return(\r\n                <Query query={CLIENTES_QUERY} pollInterval={1000} variables={{limite: this.state.limite, offset: this.state.paginador.offset}}>\r\n     {({loading, error, data, startPolling, stopPolling}) =>{\r\n         if(loading) return \"Cargando...\";\r\n         if(error) return `Error: ${error.message}`;\r\n        console.log(data);\r\n         return(\r\n             <Fragment>\r\n                 <h2 className=\"text-center\">Listado Clientes</h2>\r\n                    <div className=\" d-flex justify-content-end mb-2\">\r\n                    <select className=\"\"\r\n                        onChange={this.cambioLimite}\r\n                >\r\n                <option value=\"5\">5</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"20\">20</option>\r\n            </select>\r\n                 <Paginador \r\n                    actual = {this.state.paginador.actual}\r\n                    totalClientes = {data.totalClientes}\r\n                    limite = {this.limite}\r\n                    paginaAnterior = {this.paginaAnterior}\r\n                    paginaSiguiente = {this.paginaSiguiente}\r\n                 />\r\n                    </div>\r\n                \r\n             \r\n                 <ul className=\"list-group\">\r\n                    {data.getClientes.map(item =>{\r\n                        const {id} = item;\r\n                        return( \r\n                        <li key={item.id} className=\"list-group-item\">\r\n                            <div className=\"row justify-content-betwen align-items-center\">\r\n                                <div className=\"col-md-8 d-flex justify-content-betwen align-items-center\">\r\n                                    {item.nombre} {item.apellido}   \r\n                                </div>\r\n                                <div className=\"col-md-4 d-flex justify-content-end\">\r\n                                    <Mutation mutation={ELIMINAR_CLIENTE}>\r\n                                        {eliminarCliente =>(\r\n                                            <button type=\"button\" \r\n                                            className=\"btn btn-danger d-block d-md-inline-block mr-2\"\r\n                                            onClick={()=>{\r\n                                                if(window.confirm('Seguro que deseas eliminar el cliente?')){\r\n                                        eliminarCliente({\r\n                                            variables: {id}\r\n                                                 })\r\n                                            }\r\n                                    }}>\r\n                                        &times; Eliminar\r\n                                    </button>\r\n                                        )}\r\n                                        \r\n                                    </Mutation>\r\n                                    <Link to={`/cliente/editar/${item.id}`} className=\"btn btn-success d-block d-md-inline-block\">\r\n                                        Editar Clientes\r\n                                    </Link>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        )    \r\n                        })}    \r\n                 </ul>\r\n                 <Paginador \r\n                    actual = {this.state.paginador.actual}\r\n                    totalClientes = {data.totalClientes}\r\n                    limite = {this.state.limite}\r\n                    paginaAnterior = {this.paginaAnterior}\r\n                    paginaSiguiente = {this.paginaSiguiente}\r\n                 />\r\n             </Fragment>\r\n             \r\n         )\r\n     }}       \r\n    </Query>    \r\n            )\r\n        }\r\n}\r\nexport default Clientes;"]},"metadata":{},"sourceType":"module"}