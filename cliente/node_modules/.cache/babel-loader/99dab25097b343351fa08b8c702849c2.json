{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\GraphQLServer\\\\cliente\\\\src\\\\componentes\\\\NuevoCliente.js\";\nimport React, { Component, Fragment } from 'react';\nimport { NUEVO_CLIENTE } from '../mutations';\nimport { Mutation } from 'react-apollo';\n\nclass NuevoCliente extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cliente: {\n        nombre: \"\",\n        apellido: \"\",\n        empresa: \"\",\n        email: \"\",\n        edad: \"\",\n        tipo: \"\"\n      },\n      error: false,\n      emails: []\n    };\n\n    this.nuevoCampo = () => {\n      this.setState({\n        emails: this.state.emails.concat([{\n          email: ''\n        }])\n      });\n    };\n\n    this.quitarCampo = i => () => {\n      this.setState({\n        emails: this.state.emails.filter((email, index) => i != index)\n      });\n    };\n\n    this.leerCampo = i => e => {\n      const nuevoEmail = this.state.emails.map((email, index) => {\n        if (i != index) return email;\n        return { ...email,\n          email: e.target.value\n        };\n      });\n      this.setState({\n        emails: nuevoEmail\n      });\n    };\n  }\n\n  render() {\n    const {\n      error\n    } = this.state;\n    let respuesta = error ? React.createElement(\"p\", {\n      className: \"alert alert-danger p-3 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Todos los campos son obligatorios\") : '';\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Nuevo Cliente\"), respuesta, React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(Mutation, {\n      mutation: NUEVO_CLIENTE,\n      onCompleted: () => this.props.history.push('/'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, crearCliente => React.createElement(\"form\", {\n      className: \"col-md-8 m-3\",\n      onSubmit: e => {\n        e.preventDefault();\n        const {\n          nombre,\n          apellido,\n          empresa,\n          edad,\n          tipo\n        } = this.state.cliente;\n        const {\n          emails\n        } = this.state;\n\n        if (nombre === '' || apellido === '' || empresa === '' || edad === '' || tipo === '') {\n          this.setState({\n            error: true\n          });\n          return;\n        }\n\n        this.setState({\n          error: false\n        });\n        const input = {\n          nombre,\n          apellido,\n          empresa,\n          emails,\n          edad: Number(edad),\n          tipo\n        };\n        crearCliente({\n          variables: {\n            input\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Nombre\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Nombre\",\n      onChange: e => {\n        this.setState({\n          cliente: { ...this.state.cliente,\n            nombre: e.target.value\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Apellido\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Apellido\",\n      onChange: e => {\n        this.setState({\n          cliente: { ...this.state.cliente,\n            apellido: e.target.value\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Empresa\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Empresa\",\n      onChange: e => {\n        this.setState({\n          cliente: { ...this.state.cliente,\n            empresa: e.target.value\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), this.state.emails.map((input, index) => React.createElement(\"div\", {\n      key: index,\n      className: \"form-group col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Correo: \", index + 1, \":\"), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.leerCampo(index),\n      type: \"email\",\n      placeholder: \"Email\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.quitarCampo(index),\n      type: \"button\",\n      className: \"btn btn-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"\\xD7 Eliminar \"))))), React.createElement(\"div\", {\n      className: \"form-group d-flex justify-content-center col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.nuevoCampo,\n      type: \"button\",\n      className: \"btn btn-warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Agregar Email\"))), React.createElement(\"div\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Edad\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Edad\",\n      onChange: e => {\n        this.setState({\n          cliente: { ...this.state.cliente,\n            edad: e.target.value\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Tipo Cliente\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: e => {\n        this.setState({\n          cliente: { ...this.state.cliente,\n            tipo: e.target.value\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Elegir...\"), React.createElement(\"option\", {\n      value: \"PREMIUM\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"PREMIUM\"), React.createElement(\"option\", {\n      value: \"BASICO\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"B\\xC1SICO\")))), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Agregar Cliente\")))));\n  }\n\n}\n\nexport default NuevoCliente;","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/GraphQLServer/cliente/src/componentes/NuevoCliente.js"],"names":["React","Component","Fragment","NUEVO_CLIENTE","Mutation","NuevoCliente","state","cliente","nombre","apellido","empresa","email","edad","tipo","error","emails","nuevoCampo","setState","concat","quitarCampo","i","filter","index","leerCampo","e","nuevoEmail","map","target","value","render","respuesta","props","history","push","crearCliente","preventDefault","input","Number","variables"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport {NUEVO_CLIENTE} from '../mutations';\r\nimport {Mutation} from 'react-apollo';\r\nclass NuevoCliente extends Component {\r\n    state = { \r\n        cliente:{\r\n            nombre: \"\",\r\n            apellido: \"\",\r\n            empresa: \"\",\r\n            email: \"\",\r\n            edad: \"\",\r\n            tipo: \"\"\r\n        },\r\n        error: false,\r\n        emails: []\r\n     }\r\n     nuevoCampo = () =>{\r\n        this.setState({\r\n            emails: this.state.emails.concat([{email: ''}])\r\n        })\r\n    }\r\n    quitarCampo = i => () =>{\r\n        this.setState({\r\n            emails: this.state.emails.filter((email, index) => i != index)\r\n        })\r\n    }\r\n    leerCampo = i => e => {\r\n        const nuevoEmail = this.state.emails.map((email, index)=>{\r\n            if(i != index) return email;\r\n            return {\r\n                ...email,\r\n                email: e.target.value\r\n            }\r\n        });\r\n        this.setState({\r\n          emails: nuevoEmail  \r\n        })\r\n    }\r\n    render() { \r\n        const {error} = this.state;\r\n        let respuesta = (error) ? <p className=\"alert alert-danger p-3 text-center\">Todos los campos son obligatorios</p> : '';\r\n        return ( \r\n            <Fragment>\r\n                 <h2 className=\"text-center\">Nuevo Cliente</h2>\r\n                 {respuesta}\r\n                 <div className=\"row justify-content-center\">\r\n                     <Mutation \r\n                     mutation={NUEVO_CLIENTE}\r\n                     onCompleted={()=> this.props.history.push('/')}\r\n                     >\r\n                      {crearCliente =>( \r\n                <form className=\"col-md-8 m-3\" \r\n                    onSubmit= {e=>{\r\n                        e.preventDefault();\r\n                        const {nombre, apellido, empresa, edad, tipo} = this.state.cliente;\r\n                        const {emails} = this.state;\r\n                        if (nombre === '' || apellido === '' || empresa === '' || edad === '' || tipo === '')\r\n                        {\r\n                            this.setState({\r\n                                error: true\r\n                            });\r\n                            return;\r\n                        }\r\n                        this.setState({\r\n                            error: false\r\n                        })\r\n                        const input = {\r\n                            nombre,\r\n                            apellido,\r\n                            empresa,\r\n                            emails,\r\n                            edad : Number(edad),\r\n                            tipo\r\n                        }\r\n                       crearCliente({\r\n                           variables: {input}\r\n                       }) \r\n                    }}\r\n                >\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label>Nombre</label>\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Nombre\"\r\n                            onChange= {e =>{\r\n                                this.setState({\r\n                                    cliente:{\r\n                                        ...this.state.cliente,\r\n                                       nombre: e.target.value \r\n                                    }\r\n                                })\r\n                            }}\r\n                        />\r\n                    </div>\r\n                        <div className=\"form-group col-md-6\">\r\n                        <label>Apellido</label>\r\n                         <input type=\"text\" className=\"form-control\" placeholder=\"Apellido\"\r\n                         onChange= {e =>{\r\n                            this.setState({\r\n                                cliente:{\r\n                                    ...this.state.cliente,\r\n                                   apellido: e.target.value \r\n                                }\r\n                            })\r\n                        }}\r\n                         />\r\n                     </div>\r\n                </div>\r\n                <div className=\"form-row\">\r\n                     <div className=\"form-group col-md-12\">\r\n                        <label>Empresa</label>\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Empresa\"\r\n                        onChange= {e =>{\r\n                            this.setState({\r\n                                cliente:{\r\n                                    ...this.state.cliente,\r\n                                   empresa: e.target.value \r\n                                }\r\n                            })\r\n                        }}\r\n                        />\r\n                    </div>\r\n                {this.state.emails.map((input, index)=>(\r\n                    <div key={index} className=\"form-group col-md-12\">\r\n                        <label>Correo: {index +1}:</label>\r\n                        <div className=\"input-group\">\r\n                        <input\r\n                        onChange={this.leerCampo(index)}\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        className=\"form-control\"\r\n                        />\r\n                        <div className=\"input-group-append\">\r\n                           <button\r\n                            onClick={this.quitarCampo(index)}\r\n                            type=\"button\"\r\n                            className=\"btn btn-danger\"\r\n                           >&times; Eliminar </button>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n                <div className=\"form-group d-flex justify-content-center col-md-12\">\r\n                        <button \r\n                        onClick={this.nuevoCampo}\r\n                        type=\"button\"\r\n                        className=\"btn btn-warning\">\r\n                            Agregar Email\r\n                        </button>\r\n                </div>        \r\n                </div>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label>Edad</label>\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Edad\"\r\n                        onChange= {e =>{\r\n                            this.setState({\r\n                                cliente:{\r\n                                    ...this.state.cliente,\r\n                                   edad: e.target.value \r\n                                }\r\n                            })\r\n                        }}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group col-md-6\">\r\n                    <label>Tipo Cliente</label>  \r\n                    <select className=\"form-control\"\r\n                    onChange= {e =>{\r\n                        this.setState({\r\n                            cliente:{\r\n                                ...this.state.cliente,\r\n                               tipo: e.target.value \r\n                            }\r\n                        })\r\n                    }}\r\n                    >\r\n                        <option value=\"\">Elegir...</option>\r\n                        <option value=\"PREMIUM\">PREMIUM</option>\r\n                        <option value=\"BASICO\">B√ÅSICO</option>\r\n                    </select>\r\n            </div>\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-success float-right\">Agregar Cliente</button>\r\n  </form>\r\n        )}\r\n  </Mutation>\r\n  </div>\r\n            </Fragment>    \r\n         );\r\n    }\r\n}\r\n \r\nexport default NuevoCliente;"]},"metadata":{},"sourceType":"module"}