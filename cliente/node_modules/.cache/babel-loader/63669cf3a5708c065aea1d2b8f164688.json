{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\GraphQLServer\\\\cliente\\\\src\\\\componentes\\\\Productos\\\\NuevoProducto.js\";\nimport React, { Component, Fragment } from 'react';\nimport { NUEVO_PRODUCTO } from '../../mutations';\nimport { Mutation } from 'react-apollo';\nconst initialState = {\n  nombre: '',\n  precio: '',\n  stock: ''\n};\n\nclass Productos extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...initialState\n    };\n\n    this.limpiarState = () => {\n      this.setState({ ...initialState\n      });\n    };\n\n    this.actualizarState = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.validarForm = () => {\n      const {\n        nombre,\n        precio,\n        stock\n      } = this.state;\n      const noValido = !nombre || !precio || !stock;\n      return noValido;\n    };\n\n    this.crearNuevoProducto = (e, nuevoProducto) => {\n      e.preventDefault(); //insertar en la base de atos\n\n      nuevoProducto().then(data => {\n        this.limpiarState();\n        this.props.history.push('/productos');\n      });\n    };\n  }\n\n  render() {\n    const {\n      nombre,\n      precio,\n      stock\n    } = this.state;\n    const input = {\n      nombre,\n      precio: Number(precio),\n      stock: Number(stock)\n    };\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"text-center mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \" Nuevo Producto\"), React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Mutation, {\n      mutation: NUEVO_PRODUCTO,\n      variables: {\n        input\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, (nuevoProducto, {\n      loading,\n      error,\n      data\n    }) => {\n      return React.createElement(\"form\", {\n        className: \"col-md-8\",\n        onSubmit: e => this.crearNuevoProducto(e, nuevoProducto),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Nombre:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"nombre\",\n        className: \"form-control\",\n        placeholder: \"Nombre del Producto\",\n        onChange: this.actualizarState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Precio:\"), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"$\")), React.createElement(\"input\", {\n        type: \"number\",\n        name: \"precio\",\n        className: \"form-control\",\n        placeholder: \"Precio del Producto\",\n        onChange: this.actualizarState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Stock:\"), React.createElement(\"input\", {\n        type: \"number\",\n        name: \"stock\",\n        className: \"form-control\",\n        placeholder: \"stock del Producto\",\n        onChange: this.actualizarState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        disabled: this.validarForm(),\n        type: \"submit\",\n        className: \"btn btn-success float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Crear Producto\"));\n    })));\n  }\n\n}\n\nexport default Productos;","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/GraphQLServer/cliente/src/componentes/Productos/NuevoProducto.js"],"names":["React","Component","Fragment","NUEVO_PRODUCTO","Mutation","initialState","nombre","precio","stock","Productos","state","limpiarState","setState","actualizarState","e","name","value","target","validarForm","noValido","crearNuevoProducto","nuevoProducto","preventDefault","then","data","props","history","push","render","input","Number","loading","error"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { NUEVO_PRODUCTO } from '../../mutations';\r\nimport { Mutation } from 'react-apollo';\r\n\r\nconst initialState = {\r\n        nombre: '',\r\n        precio: '',\r\n        stock: ''\r\n}\r\nclass Productos extends Component {\r\n    state = { \r\n        ...initialState\r\n     }\r\n     limpiarState = () =>{\r\n       this.setState({\r\n        ...initialState    \r\n       })  \r\n     }\r\n    actualizarState = e => {\r\n    const {name, value} = e.target; \r\n    \r\n    this.setState({\r\n        [name]: value\r\n    })\r\n    }\r\n    \r\n    validarForm =() =>{\r\n        const{nombre, precio, stock} = this.state; \r\n\r\n        const noValido = !nombre || !precio || !stock;\r\n\r\n        return noValido;\r\n    }\r\n\r\n    crearNuevoProducto = (e, nuevoProducto) =>{\r\n        e.preventDefault();\r\n        //insertar en la base de atos\r\n        nuevoProducto().then(data =>{\r\n           this.limpiarState();\r\n\r\n           this.props.history.push('/productos');\r\n        })\r\n    }\r\n    render() { \r\n        const {nombre, precio, stock} = this.state;\r\n        const input = {\r\n            nombre,\r\n            precio: Number(precio),\r\n            stock: Number(stock)\r\n        }\r\n        return ( \r\n            <Fragment>\r\n                 <h1 className=\"text-center mb-5\"> Nuevo Producto</h1>\r\n                <div className=\"row justify-content-center\">\r\n                 <Mutation mutation={NUEVO_PRODUCTO}\r\n                           variables={{input}}     >  \r\n                {(nuevoProducto, {loading, error, data}) =>{\r\n                    return(\r\n\r\n                   \r\n                <form  className=\"col-md-8\"\r\n                       onSubmit = {e => this.crearNuevoProducto(e, nuevoProducto)}\r\n                       >\r\n                    <div className=\"form-group\">\r\n                        <label>Nombre:</label>\r\n                             <input \r\n                                type=\"text\"\r\n                                name=\"nombre\" \r\n                                className=\"form-control\" \r\n                                placeholder=\"Nombre del Producto\"\r\n                                onChange={this.actualizarState}\r\n                             />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Precio:</label>\r\n                    <div className=\"input-group\">\r\n                    <div className=\"input-group-prepend\">\r\n                    <div className=\"input-group-text\">$</div>\r\n                    </div>\r\n                            <input \r\n                                type=\"number\" \r\n                                name=\"precio\" \r\n                                className=\"form-control\" \r\n                                placeholder=\"Precio del Producto\"\r\n                                onChange={this.actualizarState}\r\n                            />\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Stock:</label>\r\n                            <input \r\n                                type=\"number\" \r\n                                name=\"stock\" \r\n                                className=\"form-control\" \r\n                                placeholder=\"stock del Producto\"\r\n                                onChange={this.actualizarState} \r\n                            />\r\n                    </div>\r\n                    <button\r\n                        disabled={this.validarForm()} \r\n                        type=\"submit\" \r\n                        className=\"btn btn-success float-right\">\r\n                        Crear Producto\r\n                    </button>\r\n                </form>\r\n                )    \r\n            }}  \r\n               </Mutation>\r\n                </div>    \r\n            </Fragment>  \r\n         );\r\n    }\r\n}\r\n \r\nexport default Productos;"]},"metadata":{},"sourceType":"module"}