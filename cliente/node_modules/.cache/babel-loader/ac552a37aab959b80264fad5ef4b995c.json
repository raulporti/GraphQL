{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\GraphQL\\\\cliente\\\\src\\\\componentes\\\\Auth\\\\Registro.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Mutation } from 'react-apollo';\nimport { NUEVO_USUARIO } from '../../mutations';\nimport Error from '../Alertas/Error';\nimport { withRouter } from 'react-router-dom';\nconst initialState = {\n  usuario: '',\n  password: '',\n  repetirPassword: ''\n};\n\nclass Registro extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...initialState\n    };\n\n    this.limpiarState = () => {\n      this.setState({ ...initialState\n      });\n    };\n\n    this.crearRegistro = (e, crearUsuario) => {\n      e.preventDefault();\n      crearUsuario().then(data => {\n        this.limpiarState(); //Redireccionamiento al login\n\n        this.props.history.push('/login');\n      });\n    };\n\n    this.actualizarState = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.validarForm = () => {\n      const {\n        usuario,\n        password,\n        repetirPassword\n      } = this.state;\n      const noValido = !usuario || !password || password !== repetirPassword;\n      return noValido;\n    };\n  }\n\n  render() {\n    const {\n      usuario,\n      password\n    } = this.state;\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"text-center mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Nuevo Usuario\"), React.createElement(\"div\", {\n      className: \"row  justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(Mutation, {\n      mutation: NUEVO_USUARIO,\n      variables: {\n        usuario,\n        password\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, (crearUsuario, {\n      loading,\n      error,\n      data\n    }) => {\n      return React.createElement(\"form\", {\n        className: \"col-md-8\",\n        onSubmit: e => this.crearRegistro(e, crearUsuario),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, error && React.createElement(Error, {\n        error: error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Usuario\"), React.createElement(\"input\", {\n        onChange: this.actualizarState,\n        type: \"text\",\n        name: \"usuario\",\n        className: \"form-control\",\n        placeholder: \"Nombre Usuario\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        onChange: this.actualizarState,\n        type: \"password\",\n        name: \"password\",\n        className: \"form-control\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Repetir Password\"), React.createElement(\"input\", {\n        onChange: this.actualizarState,\n        type: \"password\",\n        name: \"repetirPassword\",\n        className: \"form-control\",\n        placeholder: \"Repetir Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        disabled: this.validarForm(),\n        type: \"submit\",\n        className: \"btn btn-success float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Crear Usuario\"));\n    })));\n  }\n\n}\n\nexport default withRouter(Registro);","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/GraphQL/cliente/src/componentes/Auth/Registro.js"],"names":["React","Component","Fragment","Mutation","NUEVO_USUARIO","Error","withRouter","initialState","usuario","password","repetirPassword","Registro","state","limpiarState","setState","crearRegistro","e","crearUsuario","preventDefault","then","data","props","history","push","actualizarState","name","value","target","validarForm","noValido","render","loading","error"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\r\nimport {Mutation} from 'react-apollo';\r\nimport {NUEVO_USUARIO} from '../../mutations';\r\nimport Error from '../Alertas/Error';\r\nimport {withRouter} from 'react-router-dom';\r\nconst initialState = {\r\n    usuario : '',\r\n    password : '',\r\n    repetirPassword : ''\r\n}\r\nclass Registro extends Component {\r\n    state = { \r\n        ...initialState\r\n     }\r\n\r\n     limpiarState = () =>{\r\n         this.setState({\r\n             ...initialState\r\n         })\r\n     }\r\n     crearRegistro = (e, crearUsuario) =>{\r\n        e.preventDefault();\r\n        crearUsuario().then(data =>{\r\n            this.limpiarState();\r\n\r\n            //Redireccionamiento al login\r\n            this.props.history.push('/login');\r\n        })\r\n     }\r\n     actualizarState = e =>{\r\n        const {name, value} = e.target;\r\n        this.setState({\r\n            [name] : value\r\n\r\n        });\r\n     }\r\n\r\n     validarForm = () =>{\r\n         const {usuario, password, repetirPassword} = this.state;\r\n         const noValido = !usuario || !password || password !== repetirPassword;\r\n         return noValido;\r\n     }\r\n    render() { \r\n        const {usuario, password} = this.state;\r\n        return ( \r\n           <Fragment>\r\n               <h1 className=\"text-center mb-5\">Nuevo Usuario</h1>\r\n                <div className=\"row  justify-content-center\">\r\n                    <Mutation mutation={NUEVO_USUARIO}\r\n                              variables={{usuario, password}}  \r\n                    >\r\n                    {(crearUsuario, {loading, error, data})=>{\r\n                        return (\r\n                            <form \r\n                            className=\"col-md-8\"\r\n                            onSubmit={e => this.crearRegistro(e, crearUsuario)}\r\n                            >\r\n                                {error && <Error error={error}></Error>}\r\n                               <div className=\"form-group\">\r\n                               <label>Usuario</label>\r\n                               <input \r\n                               onChange = {this.actualizarState}\r\n                               type=\"text\" \r\n                               name=\"usuario\" \r\n                               className=\"form-control\" \r\n                               placeholder=\"Nombre Usuario\" \r\n                               />\r\n                                </div>\r\n                               <div className=\"form-group\">\r\n                                   <label>Password</label>\r\n                                   <input\r\n                                   onChange = {this.actualizarState} \r\n                                       type=\"password\" \r\n                                       name=\"password\" \r\n                                       className=\"form-control\" \r\n                                       placeholder=\"Password\"\r\n                                   />\r\n                               </div>\r\n                               <div className=\"form-group\">\r\n                                   <label>Repetir Password</label>\r\n                                   <input \r\n                                       onChange = {this.actualizarState}\r\n                                       type=\"password\" \r\n                                       name=\"repetirPassword\" \r\n                                       className=\"form-control\" \r\n                                       placeholder=\"Repetir Password\" \r\n                                   />\r\n                               </div>\r\n   \r\n                               <button \r\n                                   disabled = {this.validarForm()}\r\n                                   type=\"submit\" \r\n                                   className=\"btn btn-success float-right\">\r\n                                       Crear Usuario\r\n                               </button>\r\n                   </form>  \r\n                        )\r\n                    }}        \r\n                    \r\n                </Mutation>\r\n            </div>\r\n           </Fragment>\r\n         );\r\n    }\r\n}\r\nexport default withRouter(Registro);"]},"metadata":{},"sourceType":"module"}